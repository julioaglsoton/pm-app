{"version":3,"sources":["config.js","containers/Home.js","components/LoaderButton.js","containers/Login.js","containers/NotFound.js","components/AppliedRoute.js","containers/Signup.js","containers/UserAdministration.js","containers/ProjectAdministration.js","containers/AssignationProjects.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["config","REGION","BUCKET","URL","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","getLoggedInUserInfo","users","id_user","tx_role","tx_stts","tx_user_mail","tx_user_name","i","length","getCookie","getSpecificUserType","specificUser","nu_indx","getQS","field","url","href","window","location","string","RegExp","exec","searchUsers","user","users_found","indexOf","push","searchProjects","project","projects","projects_found","tx_prjt_name","getAssignedProjectsByUser","users_and_projects","id_prjt","getAssignedProjectsByProject","prjt","setCookie","cname","cvalue","document","cookie","name","ca","split","c","charAt","substring","Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSearch","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","event","txt_srch_vlue","j","str_html","wrap","_context","prev","next","getElementById","value","trim","state","innerHTML","stop","_x","apply","arguments","isLoading","isAuthenticated","setState","alert","_context2","t0","Auth","signOut","userHasAuthenticated","history","API","get","react_default","createElement","Table","striped","bordered","condensed","hover","align","width","Link","to","src","class","alt","id","type","Button","onClick","bsStyle","className","PageHeader","renderUserLinks","renderUser","renderLander","Component","components_LoaderButton","text","loadingText","_ref$className","_ref$disabled","disabled","objectWithoutProperties","assign","concat","Glyphicon","glyph","Login","handleChange","defineProperty","target","handleSubmit","preventDefault","signIn","email","password","message","newUser","handleConfirmationSubmit","_ref2","_callee2","confirmSignUp","confirmationCode","_x2","onSubmit","FormGroup","controlId","bsSize","ControlLabel","FormControl","autoFocus","onChange","HelpBlock","block","validateConfirmationForm","validateForm","renderConfirmationForm","containers_NotFound","AppliedRoute","C","component","cProps","rest","Route","render","SignUp","flag_no_crte","obj_new_user","createUser","signUp","username","sent","post","body","componentClass","placeholder","renderForm","UserAdministration","handleEdit","infoRow","style","display","handleCancel","handleUpdate","_ref3","_callee3","flag_no_upde","pbu","obj_upd_user","_context3","updateUser","reload","_x3","filterStatus","_ref4","_callee4","selectedStatus","arry_active","arry_inactive","arry_tredit","_context4","getElementsByClassName","_x4","_context5","tredit","map","e","user_content","put","_this2","k","react","sort","b","drawUsersTable","ProjectAdministration","handleCreate","new_prjt_name","obj_new_prjt","createProject","handleDelete","ubp","confirm","abrupt","remove","deleteProject","_ref5","_callee5","updateProject","_x5","handleShow","_ref6","_callee6","_context6","show","_x6","handleClose","_ref7","_callee7","_context7","_x7","_ref8","_callee8","arry_trs","arry_stts","_context8","console","log","_x8","projects_by_user","array_projects_by_user","tx_new_prjt","_context9","del","Modal","onHide","Header","closeButton","Title","Body","Footer","drawProjectsTable","AssignationProjects","handleChanges","modal_parameters","flag_ac","deleteUserProject","handleAddChange","obj_user_prjt","createUserProject","fillDropDown","arrayFill","userOption","developers","pms","add","user_type","tx_role_excn","_this3","arrayUsers","flagNotFound","arrayPMorDevelopers","roleAndIndex","_this4","valign","getSpecificUserByProject","onShow","drawAssignationProjects","AuthenticatedRoute","Redirect","pathname","search","UnauthenticatedRoute","redirect","undefined","replace","results","decodeURIComponent","querystring","Routes","childProps","Switch","path","exact","Signup","NotFound","App","authenticated","handleLogout","isAuthenticating","currentSession","Navbar","fluid","collapseOnSelect","Brand","Toggle","Collapse","Nav","pullRight","NavItem","react_router_bootstrap_lib","withRouter","Boolean","hostname","match","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","Storage","bucket","endpoints","endpoint","ReactDOM","BrowserRouter","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9dc30707.chunk.js","sourcesContent":["//Global variables\r\nexport default \r\n{\r\n  s3: {\r\n    REGION: \"us-east-2\",\r\n    BUCKET: \"pm-app-jagl-usca2018\"\r\n  },\r\n  apiGateway: {\r\n    REGION: \"us-east-2\",\r\n    URL: \"https://6ow3xl1ddc.execute-api.us-east-2.amazonaws.com/prod\"\r\n  },\r\n  cognito: {\r\n    REGION: \"us-east-2\",\r\n    USER_POOL_ID: \"us-east-2_gfIDRIztA\",\r\n    APP_CLIENT_ID: \"63gs4osh3h3817a36bn1kjqpvs\",\r\n    IDENTITY_POOL_ID: \"us-east-2:d23445ff-18cd-4675-a95b-4ac1e58793f9\"\r\n  }\r\n};\r\n\r\n/* ********************************************************* */\r\n/* Functions used across the entire applications */\r\n/* ********************************************************* */\r\n\r\n// Function to get information of the logged user, returns an object\r\nexport function getLoggedInUserInfo(users)\r\n{\r\n\tvar id_user = \"\";\r\n\tvar tx_role = \"\";\r\n\tvar tx_stts = \"\";\r\n\tvar tx_user_mail = \"\";\r\n\tvar tx_user_name = \"\";\r\n\t\r\n    for (var i = 0; i < users.length; i++) \r\n\t{\r\n\t\tif (users[i].tx_user_mail === getCookie(\"tx_user_mail\"))\t\r\n\t\t{\r\n\t\t\tid_user = users[i].id_user;\r\n\t\t\ttx_role = users[i].tx_role;\r\n\t\t\ttx_stts = users[i].tx_stts;\r\n\t\t\ttx_user_mail = users[i].tx_user_mail;\r\n\t\t\ttx_user_name = users[i].tx_user_name;\r\n\t\t\tbreak;\r\n        }\r\n\t}\r\n\tvar userInfo = {\r\n\t\t\"id_user\" : id_user , \r\n\t\t\"tx_role\" : tx_role , \r\n\t\t\"tx_stts\" : tx_stts , \r\n\t\t\"tx_user_mail\" : tx_user_mail , \r\n\t\t\"tx_user_name\" : tx_user_name \r\n\t};\r\n\treturn userInfo;\r\n}\r\n\r\n// Function to get the role of a specific user and the corresponding index position in the given array\r\nexport function getSpecificUserType(users, specificUser)\r\n{\r\n\tvar tx_role = \"\";\r\n\tvar i = 0;\r\n    for (i = 0; i < users.length; i++) \r\n\t{\r\n\t\tif (users[i].id_user === specificUser)\t\r\n\t\t{\r\n\t\t\ttx_role = users[i].tx_role;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar roleAndIndex = {\r\n\t\t\"nu_indx\" : i, \r\n\t\t\"tx_role\" : tx_role\r\n\t};\r\n\t\r\n\treturn roleAndIndex;\r\n}\r\n\r\n// Function to get a query string parameter of a given url\r\nexport function getQS( field, url ) {\r\n\tvar href = url ? url : window.location.href;\r\n\tvar reg = new RegExp( '[?&]' + field + '=([^&#]*)', 'i' );\r\n\tvar string = reg.exec(href);\r\n\treturn string ? string[1] : null;\r\n\t//Code obtained in https://stackoverflow.com/questions/9870512/how-to-obtain-the-query-string-from-the-current-url-with-javascript\r\n};\r\n\r\n// Function to obtain users which name is similar to the parameter value passed in the function. This function is case sensitive\r\nexport function searchUsers(user, users)\r\n{\r\n\tvar i = 0;\r\n\tvar users_found = []\r\n    for (i = 0; i < users.length; i++) \r\n\t{\r\n\t\tif( users[i].tx_user_name.indexOf(user) >= 0)\r\n\t\t{\r\n\t\t\tusers_found.push(users[i]);\r\n\t\t}\r\n\t}\r\n\treturn users_found;\r\n}\r\n\r\n// Function to obtain projects which name is similar to the parameter value passed in the function. This function is case sensitive\r\nexport function searchProjects(project, projects)\r\n{\r\n\tvar i = 0;\r\n\tvar projects_found = []\r\n    for (i = 0; i < projects.length; i++) \r\n\t{\r\n\t\tif( projects[i].tx_prjt_name.indexOf(project) >= 0)\r\n\t\t{\r\n\t\t\tprojects_found.push(projects[i]);\r\n\t\t}\r\n\t}\r\n\treturn projects_found;\r\n}\r\n\r\n// Function to get all the projects a user is assigned to\r\nexport function getAssignedProjectsByUser(user, users_and_projects)\r\n{\r\n\tvar i = 0;\r\n\tvar projects = []\r\n    for (i = 0; i < users_and_projects.length; i++) \r\n\t{\r\n\t\tif( users_and_projects[i].id_user === user)\r\n\t\t{\r\n\t\t\tprojects.push(users_and_projects[i].id_prjt);\r\n\t\t}\r\n\t}\r\n\treturn projects;\r\n}\r\n\r\n// Function to get a all the project assignments in the project pool\r\nexport function getAssignedProjectsByProject(prjt, users_and_projects)\r\n{\r\n\tvar i = 0;\r\n\tvar users = []\r\n    for (i = 0; i < users_and_projects.length; i++) \r\n\t{\r\n\t\tif( users_and_projects[i].id_prjt === prjt)\r\n\t\t{\r\n\t\t\tusers.push(users_and_projects[i].id_prjt);\r\n\t\t}\r\n\t}\r\n\treturn users;\r\n}\r\n\r\n// Function to set a cookie\r\nexport function setCookie(cname, cvalue) {\r\n    document.cookie = cname + \"=\" + cvalue;//Code obtained from https://www.w3schools.com/js/js_cookies.asp\r\n}\r\n\r\n// Function to get a cookie\r\nexport function getCookie(cname) {\r\n    var name = cname + \"=\";//Code obtained from https://www.w3schools.com/js/js_cookies.asp\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { PageHeader, Table, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API } from \"aws-amplify\";\r\nimport \"./Home.css\";\r\nimport { getLoggedInUserInfo } from \"../config\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport { setCookie, searchUsers, searchProjects } from \"../config\";\r\n\r\nexport default class Home extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for Home, with global variables\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisLoading: true,\r\n\t\t\tusers: [],\r\n\t\t\tprojects: []\r\n\t\t};\r\n\t}\r\n\r\n\t//Function to initialize variables\r\n\tasync componentDidMount() {\r\n\t\tif (!this.props.isAuthenticated) {\r\n\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst users = await this.users();\r\n\t\t\tthis.setState({ users });\r\n\t\t\tconst projects = await this.projects();\r\n\t\t\tthis.setState({ projects });\r\n\t\t} catch (e) {\r\n\t\t\talert(e);\r\n\t\t}\r\n\r\n\t\tthis.setState({ isLoading: false });\r\n\r\n\t\t//If the user is inactive, the system log out the user and redirect him to the login page\r\n\t\tif( getLoggedInUserInfo(this.state.users).tx_stts === \"Inactive\" )\r\n\t\t{\r\n\t\t\talert(\"Your account is currently inactive, please ask the administrator to activate your account\");\r\n\t\t\tawait Auth.signOut();\r\n\t\t\tthis.props.userHasAuthenticated(false);\r\n\t\t\tsetCookie(\"tx_user_mail\", \"\");\r\n\t\t\tthis.props.history.push(\"/login\");\t\t\t\r\n\t\t}\t\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\r\n\t/* BEGINNING OF LAMBDA FUNCTIONS */\r\n\t//Invoke lambda function to get users\r\n\tusers() {\r\n\t\treturn API.get(\"pm\", \"/list-users\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get projects\r\n\tprojects() {\r\n\t\treturn API.get(\"pm\", \"/list-projects\");\r\n\t}\r\n\t/* END OF LAMBDA FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to search users and projects\r\n\thandleSearch = async event => {\r\n\t\tvar txt_srch_vlue = document.getElementById(\"txt_search\").value.trim();\r\n\t\tvar users_found = searchUsers(txt_srch_vlue, this.state.users);\r\n\t\tvar projects_found = searchProjects(txt_srch_vlue, this.state.projects);\r\n\t\tvar j = 0;\r\n\t\tvar str_html = \"\";\r\n\t\t\r\n\t\tif( users_found.length === 0 && projects_found.length === 0 )\r\n\t\t{\r\n\t\t\tstr_html = \"The systems did not find any users nor projects.\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(j = 0; j < users_found.length; j++)\r\n\t\t\t{\r\n\t\t\t\tif(j === 0) {\r\n\t\t\t\t\tstr_html += \"Users found: <ul>\";\r\n\t\t\t\t}\r\n\t\t\t\tstr_html += \"<li> <a href='/userAdministration?user=\" + users_found[j].id_user + \"'>\" + users_found[j].tx_user_name + \"</a> </li>\";\r\n\t\t\t\tif(j === ( users_found.length - 1 )) {\r\n\t\t\t\t\tstr_html += \"</ul>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(j = 0; j < projects_found.length; j++) {\r\n\t\t\t\tif(j === 0) {\r\n\t\t\t\t\tstr_html += \"Projects found: <ul>\";\r\n\t\t\t\t}\r\n\t\t\t\tstr_html += \"<li> <a href='/projectAdministration?project=\" + projects_found[j].id_prjt + \"'>\" + projects_found[j].tx_prjt_name + \"</a> </li>\";\r\n\t\t\t\tif(j === ( users_found.length - 1 )) {\r\n\t\t\t\t\tstr_html += \"</ul>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.getElementById(\"divResults\").innerHTML = str_html;\r\n\t}\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Render table considering user role\r\n\trenderUserLinks() \r\n\t{\r\n\t\tvar tx_role = getLoggedInUserInfo(this.state.users).tx_role;\r\n\t\tif(tx_role === \"Admin\")\r\n\t\t{//Admin links\r\n\t\t\treturn <div>\r\n\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t  <tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/useradministration'}> User administration panel </Link> <div> <Link to={'/useradministration'}> <img src=\"./pmicons/001-profile.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/projectadministration'}> Project administration panel </Link> <div> <Link to={'/projectadministration'}> <img src=\"./pmicons/007-office.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/assignationprojects'}> Project staffing </Link> <div> <Link to={'/assignationprojects'}> <img src=\"./pmicons/029-diagram.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t  </tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Table striped bordered condensed hover> <tr> <td align='left'> <div id='divSearch'> Search users or projects by name: <input type='text' id=\"txt_search\" /> <Button onClick={this.handleSearch} bsStyle=\"primary\"> Search </Button> </div> <div id='divResults'> </div> </td> </tr> </Table>\r\n\t\t\t</div>;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(tx_role === \"PM\")\r\n\t\t\t{//PM links\r\n\t\t\t\treturn <div>\r\n\t\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t  <tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/projectadministration'}> Project tracking </Link> <div> <Link to={'/projectadministration'}> <img src=\"./pmicons/007-office.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/assignationprojects'}> Project staffing </Link> <div> <Link to={'/assignationprojects'}> <img src=\"./pmicons/029-diagram.png\" class=\"pmicons\" alt=\"\" /> </Link> </div></td>\r\n\t\t\t\t\t\t  <td align='center' width=\"33%\"> <Link to={'/useradministration'}> User administration panel </Link> <div> <Link to={'/useradministration'}> <img src=\"./pmicons/001-profile.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t  </tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(tx_role === \"Developer\")\r\n\t\t\t\t{//Developer links\r\n\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t\t  <tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t  <td align='center' width=\"50%\"> <Link to={'/projectadministration'}> My projects </Link> <div> <Link to={'/projectadministration'}> <img src=\"./pmicons/007-office.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t\t\t  <td align='center' width=\"50%\"> <Link to={'/useradministration'}> User administration panel </Link> <div> <Link to={'/useradministration'}> <img src=\"./pmicons/001-profile.png\" class=\"pmicons\" alt=\"\" /> </Link> </div> </td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t  </tbody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//Function to display home page (when the user is not logged in)\r\n\trenderLander() {\r\n\t\treturn (\r\n\t\t\t<div className=\"lander\">\r\n\t\t\t<h1>Project Management Application</h1>\r\n\t\t\t<img src=\"./inicio.png\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t//Function to display welcome panel and render specific links according to the role of the logged in user\r\n\trenderUser() {\r\n\t\treturn (\r\n\t\t\t<div className=\"users\">\r\n\t\t\t{ this.state.isLoading ? \"\" : <div> <table width=\"100%\"> <tr> <td> <PageHeader align=\"left\" id=\"pageHeader\"> Hi {getLoggedInUserInfo(this.state.users).tx_user_name}! </PageHeader> </td> <td> <div align=\"right\" id=\"divRole\"> <img src=\"./users.png\" alt=\"\" /> {getLoggedInUserInfo(this.state.users).tx_role} </div> </td> </tr> </table> </div> }\r\n\t\t\t{!this.state.isLoading && this.renderUserLinks()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t//Method to display web content\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"Home\">\r\n\t\t\t{this.props.isAuthenticated ? this.renderUser() : this.renderLander()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/* END OF RENDER FUNCTIONS */\r\n}\r\n","import React from \"react\";\r\nimport { Button, Glyphicon } from \"react-bootstrap\";\r\nimport \"./LoaderButton.css\";\r\n\r\nexport default ({\r\n  isLoading,\r\n  text,\r\n  loadingText,\r\n  className = \"\",\r\n  disabled = false,\r\n  ...props\r\n}) =>\r\n  <Button\r\n    className={`LoaderButton ${className}`}\r\n    disabled={disabled || isLoading}\r\n    {...props}\r\n  >\r\n    {isLoading && <Glyphicon glyph=\"refresh\" className=\"spinning\" />}\r\n    {!isLoading ? text : loadingText}\r\n  </Button>;\r\n","import React, { Component } from \"react\";\r\nimport { HelpBlock, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../components/LoaderButton\";\r\nimport \"./Login.css\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport { setCookie } from \"../config\";\r\n\r\nexport default class Login extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for Login, with global variables\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisLoading: false,\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tnewUser: null,\r\n\t\t\tconfirmationCode: \"\",\r\n\t\t};\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to change form variables\r\n\thandleChange = event => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.id]: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\t//Function to submit form\r\n\thandleSubmit = async event => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({ isLoading: true });\r\n\r\n\t\ttry {\r\n\t\t\tawait Auth.signIn(this.state.email, this.state.password);\r\n\t\t\tthis.props.userHasAuthenticated(true);\r\n\t\t\tsetCookie(\"tx_user_mail\", this.state.email);\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t} catch (e) {\r\n\t\t\tif(e.message === \"User is not confirmed.\")\r\n\t\t\t{\r\n\t\t\t\tconst newUser = true;\r\n\t\t\t\tthis.setState({ newUser });\r\n\t\t\t\t//alert(\"Redirect\");\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\talert(e.message);\t\t\t\r\n\t\t\t}\r\n\t\t\tthis.setState({ isLoading: false });\r\n\t\t}\r\n\t}\r\n\r\n\t//Function to sign in and confirm sign up\r\n\thandleConfirmationSubmit = async event => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({ isLoading: true });\r\n\r\n\t\ttry {\r\n\t\t\tawait Auth.confirmSignUp(this.state.email, this.state.confirmationCode);\r\n\t\t\tawait Auth.signIn(this.state.email, this.state.password);\r\n\t\t\tsetCookie(\"tx_user_mail\", this.state.email);\r\n\t\t\tthis.props.userHasAuthenticated(true);\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t} catch (e) {\r\n\t\t\talert(e.message);\r\n\t\t\tthis.setState({ isLoading: false });\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Function to validate form\r\n\tvalidateForm() {\r\n\t\treturn this.state.email.length > 0 && this.state.password.length > 0;\r\n\t}\r\n\t\r\n\t//Function to validate confirmation code form\r\n\tvalidateConfirmationForm() {\r\n\t\treturn this.state.confirmationCode.length > 0;\r\n\t}\t\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Function to render confirmation window\r\n\trenderConfirmationForm() {\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.handleConfirmationSubmit}>\r\n\t\t\t\t<FormGroup controlId=\"confirmationCode\" bsSize=\"medium\">\r\n\t\t\t\t<ControlLabel>Confirmation Code</ControlLabel>\r\n\t\t\t\t<FormControl autoFocus type=\"tel\" value={this.state.confirmationCode} onChange={this.handleChange} />\r\n\t\t\t\t<HelpBlock>Please check your email for the code.</HelpBlock>\r\n\t\t\t\t</FormGroup>\r\n\t\t\t\t<LoaderButton block bsSize=\"small\" disabled={!this.validateConfirmationForm()} type=\"submit\" isLoading={this.state.isLoading} text=\"Verify\" loadingText=\"Verifying\" />\r\n\t\t\t</form>\r\n\t\t\t);\r\n\t}\r\n\t\t\r\n\t//Function to render either login function on redirect to confirmation window\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"Login\" align=\"center\">\r\n\t\t\t\t{this.state.newUser === null ?\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<FormGroup controlId=\"email\" bsSize=\"medium\">\r\n\t\t\t\t\t\t<ControlLabel>Email</ControlLabel>\r\n\t\t\t\t\t\t<FormControl autoFocus type=\"email\" value={this.state.email} onChange={this.handleChange} />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup controlId=\"password\" bsSize=\"medium\">\r\n\t\t\t\t\t\t<ControlLabel>Password</ControlLabel>\r\n\t\t\t\t\t\t<FormControl value={this.state.password} onChange={this.handleChange} type=\"password\" />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<LoaderButton block bsSize=\"small\" disabled={!this.validateForm()} type=\"submit\" isLoading={this.state.isLoading} text=\"Login\" loadingText=\"Logging in\" />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t: this.renderConfirmationForm()\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/* END OF RENDER FUNCTIONS */\r\n}\r\n","import React from \"react\";\r\nimport \"./NotFound.css\";\r\n\r\n/* Render not found page */\r\nexport default () =>\r\n  <div className=\"NotFound\">\r\n    <h3>Page not found</h3>\r\n  </div>;\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nexport default ({ component: C, props: cProps, ...rest }) =>\r\n  <Route {...rest} render={props => <C {...props} {...cProps} />} />;\r\n","import React, { Component } from \"react\";\r\nimport \"./Signup.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport LoaderButton from \"../components/LoaderButton\";\r\nimport { FormGroup, FormControl, PageHeader, Table } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from 'react-router-dom';\r\nimport { getLoggedInUserInfo } from \"../config\";//NEW\r\nimport { Auth } from \"aws-amplify\";\r\n\r\nexport default class SignUp extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for SignUp, with global variables\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisLoading: true,\r\n\t\t\ttx_user_name: \"\",\r\n\t\t\ttx_role: \"Admin\",\r\n\t\t\ttx_user_mail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tusers: []\r\n\t\t};\r\n\t}\r\n\r\n\t//Function to initialize variables\r\n\tasync componentDidMount() {\r\n\t\tif (!this.props.isAuthenticated) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst users = await this.users();\r\n\t\t\tthis.setState({ users });\r\n\t\t} catch (e) {\r\n\t\t\talert(e);\r\n\t\t}\r\n\r\n\t\tthis.setState({ isLoading: false });\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\r\n\t/* BEGINNING OF LAMBDA FUNCTIONS */\r\n\t//Invoke lambda function to create users\r\n\tcreateUser(user) {\r\n\t\treturn API.post(\"pm\", \"/create-users/\", {\r\n\t\t\tbody: user \r\n\t\t});\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get users\r\n\tusers() {\r\n\t\treturn API.get(\"pm\", \"/list-users\");\r\n\t}\r\n\t/* END OF LAMBDA FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to handle change values in form inputs\r\n\thandleChange = event => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.id]: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\t//Function to submit values to create a new user\r\n\thandleSubmit = async event => {\r\n\t\tevent.preventDefault();\r\n\t\tvar j = 0;\r\n\t\tvar flag_no_crte = 0;\r\n\t\t\r\n\t\tfor( j = 0; j < this.state.users.length; j++ )\r\n\t\t{\r\n\t\t\tif( this.state.users[j].tx_user_mail === this.state.tx_user_mail ){\r\n\t\t\t\tflag_no_crte = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(flag_no_crte === 1)\r\n\t\t{\r\n\t\t\talert(\"An user with the e-mail address '\" + this.state.tx_user_mail + \"' already exists. Please provide a different e-mail address.\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar obj_new_user = { \"tx_user_name\" : this.state.tx_user_name , \"tx_role\" : this.state.tx_role , \"tx_user_mail\" : this.state.tx_user_mail , \"tx_stts\" : \"Active\" };\r\n\t\t\t\r\n\t\t\tthis.setState({ isLoading: true });\r\n\t\t\ttry {\r\n\t\t\t\tawait this.createUser(obj_new_user);\r\n\t\t\t\tconst newUser = await Auth.signUp({ username: this.state.tx_user_mail, password: this.state.password });\r\n\t\t\t\tthis.props.history.push(\"/useradministration\");\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\talert(e.message);\r\n\t\t\t}\r\n\t\t\tthis.setState({ isLoading: false });\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\t//Function to validate form to create new user\r\n\tvalidateForm() {\r\n\t\treturn (\r\n\t\t\tthis.state.tx_user_name.length > 0 &&\r\n\t\t\tthis.state.tx_user_mail.length > 0 &&\r\n\t\t\tthis.state.password.length > 0\r\n\t\t);\r\n\t}\t\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Function to render form\r\n\trenderForm() {\r\n\t\tvar tx_role = getLoggedInUserInfo(this.state.users).tx_role;\r\n\t\tif(tx_role === \"Admin\")\r\n\t\t{\r\n\t\t\treturn (\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t<div align='left'> <Link to='/useradministration'> <Button bsStyle=\"info\"> Back </Button> </Link> </div>\r\n\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t<thead> <tr> <th> User name </th> <th> Role </th> <th> Email </th> <th> Password </th> </tr> </thead>\r\n\t\t\t\t\t<tr> \r\n\t\t\t\t\t\t<td align='left' width=\"25%\" >\r\n\t\t\t\t\t\t\t<FormGroup controlId=\"tx_user_name\" bsSize=\"small\">\r\n\t\t\t\t\t\t\t<FormControl autoFocus type=\"text\" value={this.state.tx_user_name} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</td> \r\n\t\t\t\t\t\t<td align='left' width=\"25%\" > \r\n\t\t\t\t\t\t\t<FormGroup controlId=\"tx_role\" onChange={this.handleChange}>\r\n\t\t\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" value={this.state.tx_role} onChange={this.handleChange}>\r\n\t\t\t\t\t\t\t\t<option value=\"Admin\">Admin</option>\r\n\t\t\t\t\t\t\t\t<option value=\"PM\">PM</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Developer\">Developer</option>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td align='left' width=\"25%\" > \r\n\t\t\t\t\t\t\t<FormGroup controlId=\"tx_user_mail\" bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t<FormControl autoFocus type=\"email\" value={this.state.tx_user_mail} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</td> \r\n\t\t\t\t\t\t<td align='left' width=\"25%\" > \r\n\t\t\t\t\t\t\t<FormGroup controlId=\"password\" bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t<FormControl value={this.state.password} onChange={this.handleChange} type=\"password\" />\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</td> \r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</Table> \r\n\t\t\t\t<LoaderButton block bsSize=\"small\" disabled={!this.validateForm()} type=\"submit\" isLoading={this.state.isLoading} text=\"Create user\" loadingText=\"Creating user ...\" />\r\n\t\t\t\t</form>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Method to display web content\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"UserAdministration\">\r\n\t\t\t<PageHeader> New user </PageHeader>\r\n\t\t\t{!this.state.isLoading && this.renderForm()}\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n\t/* END OF RENDER FUNCTIONS */\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport \"./UserAdministration.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { FormGroup, FormControl, PageHeader, Table, ControlLabel } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from 'react-router-dom';\r\nimport { getLoggedInUserInfo, getAssignedProjectsByUser, getQS } from \"../config\";//NEW\r\n\r\nexport default class UserAdministration extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for UserAdministration, with global variables\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisLoading: true,\r\n\t\t\tusers: [],\r\n\t\t\tusers_and_projects: []\r\n\t\t};\r\n\t}\r\n\r\n\t//Function to initialize variables\r\n\tasync componentDidMount() {\r\n\t\tif (!this.props.isAuthenticated) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst users = await this.users();\r\n\t\t\tthis.setState({ users });\r\n\t\t\tconst users_and_projects = await this.users_and_projects();\r\n\t\t\tthis.setState({ users_and_projects });\r\n\t\t} catch (e) {\r\n\t\t\talert(e);\r\n\t\t}\r\n\r\n\t\tthis.setState({ isLoading: false });\r\n\t\t\r\n\t\t//Hide edit columns\r\n\t\tvar tredit = document.getElementsByClassName(\"tredit\");\r\n\t\tfor (var i = 0; i < tredit.length; i++) {\r\n\t\t\ttredit[i].style.display = \"none\";\r\n\t\t}\r\n\r\n\t\tthis.state.users.map(\r\n\t\t\t(user, i) =>\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdocument.getElementById(user.id_user + \"|tx_user_name\").value = user.tx_user_name;\r\n\t\t\t\t\tdocument.getElementById(user.id_user + \"|tx_stts\").value = user.tx_stts;\r\n\t\t\t\t\tdocument.getElementById(user.id_user + \"|tx_role\").value = user.tx_role;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\t\t\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\r\n\t/* BEGINNING OF LAMBDA FUNCTIONS */\r\n\t//Invoke lambda function to get users\r\n\tusers() {\r\n\t\treturn API.get(\"pm\", \"/list-users\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get users and projects relationships\r\n\tusers_and_projects() {\r\n\t\treturn API.get(\"pm\", \"/list-users-and-projects\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to update users\r\n\tupdateUser(id_user, user_content) {\r\n\t\treturn API.put(\"pm\", \"/update-users/\" + id_user, {\r\n\t\t\tbody: user_content\r\n\t\t});\r\n\t}\r\n\t/* END OF LAMBDA FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to edit users (display edit rows)\r\n\thandleEdit = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_user\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|view\").style.display = 'none';\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|edit\").style.display = 'table-row';\r\n\t}\r\n\r\n\t//Function to cancel editing users\r\n\thandleCancel = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_user\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|view\").style.display = 'table-row';\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|edit\").style.display = 'none';\r\n\t}\r\n\r\n\t//Function to update users\r\n\thandleUpdate = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_user\r\n\t\tvar flag_no_upde = 0;\r\n\t\tvar pbu = [];\r\n\t\t\r\n\t\t//alert(\"current = \" + document.getElementById(infoRow[0] + \"|tx_role_current\").value + \", new = \" + document.getElementById(infoRow[0] + \"|tx_role\").value + \", user = \" + infoRow[0]  + \", projects = \" + getAssignedProjectsByUser( infoRow[0], this.state.users_and_projects ).length );//Rol actual -> Rol nuevo\r\n\t\t\r\n\t\tif( document.getElementById(infoRow[0] + \"|tx_role_current\").value !== document.getElementById(infoRow[0] + \"|tx_role\").value )\r\n\t\t{\r\n\t\t\tpbu = getAssignedProjectsByUser( infoRow[0], this.state.users_and_projects );\r\n\t\t\tif( pbu.length > 0 )\r\n\t\t\t{\r\n\t\t\t\talert(\"Before changing the user role, deallocate this user from his current assignments (\" + pbu.length + \" project(s))\");\r\n\t\t\t\tflag_no_upde = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( document.getElementById(infoRow[0] + \"|tx_user_name\").value.trim() === \"\" )\r\n\t\t{\r\n\t\t\talert(\"Please provide a new user name\");\r\n\t\t\tflag_no_upde = 1;\r\n\t\t}\r\n\t\t\r\n\t\tif ( flag_no_upde === 0 )\r\n\t\t{\r\n\t\t\tvar obj_upd_user = {\r\n\t\t\t\t\"tx_user_name\" : document.getElementById(infoRow[0] + \"|tx_user_name\").value.trim() , \r\n\t\t\t\t\"tx_role\" : document.getElementById(infoRow[0] + \"|tx_role\").value , \r\n\t\t\t\t\"tx_user_mail\" : document.getElementById(infoRow[0] + \"|tx_user_mail\").value , \r\n\t\t\t\t\"tx_stts\" : document.getElementById(infoRow[0] + \"|tx_stts\").value \r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t//alert(\"infoRow[0] = \" + infoRow[0] + \", tx_user_name = \" + obj_upd_user.tx_user_name + \", tx_role = \" + obj_upd_user.tx_role + \", tx_stts = \" + obj_upd_user.tx_stts + \", tx_user_mail = \" + obj_upd_user.tx_user_mail);\r\n\t\t\t\r\n\t\t\tthis.setState({ isLoading: true });\r\n\t\t\ttry {\r\n\t\t\t\tawait this.updateUser(infoRow[0], obj_upd_user);\r\n\t\t\t\tthis.props.history.push(\"/useradministration\");\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\talert(e.message);\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"divMain\").style.display = 'none';\r\n\t\t\tthis.setState({ isLoading: false });\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Function to filter users by status\r\n\tfilterStatus = async event => {\r\n\t\tvar selectedStatus = document.getElementById(event.target.id).value;\t\r\n\t\tvar arry_active = document.getElementsByClassName(\"Active_tr_status\");\r\n\t\tvar arry_inactive = document.getElementsByClassName(\"Inactive_tr_status\");\r\n\t\tvar arry_tredit = document.getElementsByClassName(\"tredit\");\r\n\t\tvar j = 0;\r\n\r\n\t\tif( selectedStatus === \"All\" )\r\n\t\t{\r\n\t\t\tfor(j = 0; j < arry_active.length; j++){\r\n\t\t\t\tarry_active[j].style.display = 'table-row';\r\n\t\t\t}\r\n\t\t\tfor(j = 0; j < arry_inactive.length; j++){\r\n\t\t\t\tarry_inactive[j].style.display = 'table-row';\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif( selectedStatus === \"Active\" )\r\n\t\t\t{\r\n\t\t\t\tfor(j = 0; j < arry_active.length; j++){\r\n\t\t\t\t\tarry_active[j].style.display = 'table-row';\r\n\t\t\t\t}\r\n\t\t\t\tfor(j = 0; j < arry_inactive.length; j++){\r\n\t\t\t\t\tarry_inactive[j].style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfor(j = 0; j < arry_active.length; j++){\r\n\t\t\t\t\tarry_active[j].style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t\tfor(j = 0; j < arry_inactive.length; j++){\r\n\t\t\t\t\tarry_inactive[j].style.display = 'table-row';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(j = 0; j < arry_tredit.length; j++){\r\n\t\t\tarry_tredit[j].style.display = 'none';\r\n\t\t}\r\n\t}\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Function to display table with user information\r\n\tdrawUsersTable() {\r\n\t\tvar tx_role = getLoggedInUserInfo(this.state.users).tx_role;\r\n\t\tvar tx_user_mail = getLoggedInUserInfo(this.state.users).tx_user_mail;\r\n\t\tvar k = 1;\r\n\t\tif(tx_role === \"Admin\" || tx_role === \"PM\" || tx_role === \"Developer\")\r\n\t\t{\r\n\t\t\treturn <div id='divMain'> <form>\r\n\t\t\t<PageHeader align=\"left\" id=\"pageHeader\"> <img src=\"./pmicons/013-paper-plane.png\" class=\"pmsmallicons\" alt=\"\" /> { tx_role === \"Admin\" ? \"User administration\" : \"My info\" } </PageHeader>\r\n\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t\t<div> <Table striped bordered condensed hover> <tr> \r\n\t\t\t\t\t<td align='left' width=\"50%\"> <Link to='/signup'> <Button bsStyle=\"success\"> New user </Button> </Link> </td> \r\n\t\t\t\t\t<td align='right' width=\"50%\"> \r\n\t\t\t\t\t\t<FormGroup controlId=\"ddl_role\" bsSize=\"small\" >\r\n\t\t\t\t\t\t<ControlLabel>Select user status</ControlLabel>\r\n\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" onChange={this.filterStatus} >\r\n\t\t\t\t\t\t\t<option value=\"All\">All</option>\r\n\t\t\t\t\t\t\t<option value=\"Active\">Active</option>\r\n\t\t\t\t\t\t\t<option value=\"Inactive\">Inactive</option>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</FormGroup> \r\n\t\t\t\t\t</td> \r\n\t\t\t\t</tr> </Table> </div>\r\n\t\t\t: \"\" }\r\n\t\t\t<div align='center'> <Table striped bordered condensed hover>\r\n\t\t\t\t<thead class=\"tHeadUsers\"> <tr> \r\n\t\t\t\t\t<th> # </th> <th> User name </th> \r\n\t\t\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<th> Role </th> <th> Email </th> <th> Status </th>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t<th> Edit </th> </tr> </thead>\r\n\t\t\t\t{ this.state.users.sort( function(a, b) {if(a.tx_user_name < b.tx_user_name) { return -1; } if(a.tx_user_name > b.tx_user_name) { return 1; } return 0; } )\r\n\t\t\t\t\t.map( (user, i) =>\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{ ( tx_role === \"Admin\" && ( ( getQS('user') !== \"\" && user.id_user === getQS('user') ) || ( getQS('user') === \"\" || getQS('user') === null ) ) || ( tx_role !== \"Admin\" && user.tx_user_mail === tx_user_mail ) ) ? \r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<tr class={user.tx_stts + \"_tr_status trUsers\"} id={'tr|' + user.id_user + '|view'}>\r\n\t\t\t\t\t\t\t\t\t<td width=\"5%\"> {k} </td> \r\n\t\t\t\t\t\t\t\t\t<td align='left' width=\"25%\" id={user.id_user + \"|tr_user_name\"}> {user.tx_user_name} </td> \r\n\t\t\t\t\t\t\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"20%\" id={user.id_user + \"|tr_role\"}> {user.tx_role} </td> \r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"25%\" id={user.id_user + \"|tr_user_mail\"}> {user.tx_user_mail} </td> \r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"10%\" id={user.id_user + \"|tr_stts\"}> {user.tx_stts} </td>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t\t\t<td align='left' width=\"20%\"> <Button id={user.id_user + \"|\" + user.tx_user_name + \"|\" + user.tx_role + \"|\" + user.tx_user_mail + \"|\" + user.tx_stts} onClick={this.handleEdit} bsStyle=\"info\"> Edit </Button> </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr id={'tr|' + user.id_user + '|edit'} class={user.tx_stts + \"_tr_status tredit trUsers\"} >\r\n\t\t\t\t\t\t\t\t\t <td width=\"5%\"> {k++} </td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"25%\"> \r\n\t\t\t\t\t\t\t\t\t\t\t<FormGroup controlId={user.id_user + \"|tx_user_name\"} bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl autoFocus type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" id={user.id_user + \"|tx_role_current\"} value={user.tx_role} />\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{ tx_role === \"PM\" || tx_role === \"Developer\" ? \r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment> <input type=\"hidden\" id={user.id_user + \"|tx_role\"} value={user.tx_role} /> <input type=\"hidden\" id={user.id_user + \"|tx_user_mail\"} value={user.tx_user_mail} /> <input type=\"hidden\" id={user.id_user + \"|tx_stts\"} value={user.tx_stts} /> </Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"20%\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup controlId={user.id_user + \"|tx_role\"} bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Admin\">Admin</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PM\">PM</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Developer\">Developer</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"25%\"> <input type=\"hidden\" id={user.id_user + \"|tx_user_mail\"} value={user.tx_user_mail} /> {user.tx_user_mail} </td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"10%\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ user.tx_role !== \"Admin\" ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup controlId={user.id_user + \"|tx_stts\"} bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Active\">Active</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Inactive\">Inactive</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: <div> <input type=\"hidden\" id={user.id_user + \"|tx_stts\"} value={user.tx_stts} /> {user.tx_stts} </div> }\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"20%\"> <Button id={user.id_user + \"|cancel\"} onClick={this.handleCancel} bsStyle=\"danger\"> Cancel </Button> <Button id={user.id_user + \"|update\"} onClick={this.handleUpdate} bsStyle=\"primary\"> Update </Button> </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Table> </div>\r\n\t\t\t</form> </div>;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t}\r\n\t}\r\n\r\n\t//Method to display web content\r\n\trender() {\r\n\t\treturn (\r\n\t\t  <div className=\"UserAdministration\">\r\n\t\t\t{!this.state.isLoading && this.drawUsersTable()}\r\n\t\t  </div>\r\n\t\t);\r\n\t}\t\r\n\t/* END OF RENDER FUNCTIONS */\r\n\t\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport \"./ProjectAdministration.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { FormGroup, FormControl, PageHeader, Table, ControlLabel, Button, Modal } from \"react-bootstrap\";\r\nimport { getLoggedInUserInfo, getAssignedProjectsByProject, getQS } from \"../config\";//NEW\r\n\r\nexport default class ProjectAdministration extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for ProjectAdministration, with global variables\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisLoading: true,\r\n\t\t\tusers: [],\r\n\t\t\tprojects: [],\r\n\t\t\tprojects_by_user: [],\r\n\t\t\tarray_projects_by_user: [],\r\n\t\t\ttx_new_prjt: \"\",\r\n\t\t\tshow: false\r\n\t\t};\r\n\t}\r\n\r\n\t//Function to initialize variables\r\n\tasync componentDidMount() {\r\n\t\tif (!this.props.isAuthenticated) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst users = await this.users();\r\n\t\t\tthis.setState({ users });\r\n\t\t\tconst projects = await this.projects();\r\n\t\t\tthis.setState({ projects });\r\n\t\t\tconst projects_by_user = await this.projects_by_user();\r\n\t\t\tthis.setState({ projects_by_user });\r\n\t\t\tfor(var k = 0; k < this.state.projects_by_user.length; k++)\r\n\t\t\t{\r\n\t\t\t\tthis.state.array_projects_by_user.push(this.state.projects_by_user[k].id_prjt);\r\n\t\t\t}\r\n\t\t\tconst users_and_projects = await this.users_and_projects();\r\n\t\t\tthis.setState({ users_and_projects });\r\n\t\t} catch (e) {\r\n\t\t\talert(e);\r\n\t\t}\r\n\r\n\t\tthis.setState({ isLoading: false });\r\n\t\t\r\n\t\t//Hide edit columns\r\n\t\tvar tredit = document.getElementsByClassName(\"tredit\");\r\n\t\tfor (var i = 0; i < tredit.length; i++) {\r\n\t\t\ttredit[i].style.display = \"none\";\r\n\t\t}\r\n\r\n\t\tthis.state.projects.map(\r\n\t\t\t(project, i) =>\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdocument.getElementById(project.id_prjt + \"|tx_prjt_name\").value = project.tx_prjt_name;\r\n\t\t\t\t\tdocument.getElementById(project.id_prjt + \"|tx_stts\").value = project.tx_stts;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\t\t\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\r\n\t/* BEGINNING OF LAMBDA FUNCTIONS */\r\n\t//Invoke lambda function to get users\r\n\tusers() {\r\n\t\treturn API.get(\"pm\", \"/list-users\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get projects\r\n\tprojects() {\r\n\t\treturn API.get(\"pm\", \"/list-projects\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get project relationships by an specific user\r\n\tprojects_by_user() {\r\n\t\treturn API.get(\"pm\", \"/get-projects-by-user/\" + getLoggedInUserInfo(this.state.users).id_user);\r\n\t}\r\n\r\n\t//Invoke lambda function to get users and projects relationships\r\n\tusers_and_projects() {\r\n\t\treturn API.get(\"pm\", \"/list-users-and-projects\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to create a project\r\n\tcreateProject(prjt) {\r\n\t\treturn API.post(\"pm\", \"/create-projects/\", {\r\n\t\t\tbody: prjt\r\n\t\t});\r\n\t}\r\n\t\r\n\t//Invoke lambda function to delete a project\r\n\tdeleteProject(id_prjt) {\r\n\t\treturn API.del(\"pm\", \"/delete-projects/\" + id_prjt + \"\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to update a project\r\n\tupdateProject(id_prjt, user_content) {\r\n\t\treturn API.put(\"pm\", \"/update-projects/\" + id_prjt, {\r\n\t\t\tbody: user_content\r\n\t\t});\r\n\t}\t\r\n\t/* END OF LAMBDA FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to create a new project\r\n\thandleCreate = async event => {\r\n\t\tvar new_prjt_name = document.getElementById(\"tx_new_prjt\").value.trim();\r\n\t\tif( new_prjt_name === \"\")\r\n\t\t{\r\n\t\t\talert(\"Please provide a project name\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar obj_new_prjt = { \"tx_prjt_name\" : new_prjt_name , \"tx_stts\" : \"Commencing\" };//\r\n\t\t\t\r\n\t\t\tthis.setState({ isLoading: true });\r\n\t\t\ttry {\r\n\t\t\t\tawait this.createProject(obj_new_prjt);\r\n\t\t\t\tthis.props.history.push(\"/projectadministration\");\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\talert(e.message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//Function to handle change values in form inputs\r\n\thandleChange = event => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.id]: event.target.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t//Function to show edit projects options\r\n\thandleEdit = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_prjt\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|view\").style.display = 'none';\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|edit\").style.display = 'table-row';\r\n\t}\r\n\r\n\t//Function to show cancel editing\r\n\thandleCancel = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_prjt\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|view\").style.display = 'table-row';\r\n\t\tdocument.getElementById(\"tr|\" + infoRow[0] + \"|edit\").style.display = 'none';\r\n\t}\r\n\r\n\t//Function to show delete projects\r\n\thandleDelete = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_prjt\r\n\t\tvar ubp = [];\r\n\t\t\r\n\t\tubp = getAssignedProjectsByProject( infoRow[0], this.state.users_and_projects );\r\n\t\t\r\n\t\tif(ubp.length > 0)\r\n\t\t{\r\n\t\t\talert(\"Before deleting this project, deallocate the corresponding users from the project  (\" + ubp.length + \" user(s))\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tconst confirmed = window.confirm(\"Are you sure you want to delete this project?\");\r\n\t\t\tif (!confirmed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tdocument.getElementById('tr|' + infoRow[0] + '|view').remove();\r\n\t\t\t\tdocument.getElementById('tr|' + infoRow[0] + '|edit').remove();\r\n\t\t\t\tawait this.deleteProject(infoRow[0]);\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\talert(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Function to show update projects\r\n\thandleUpdate = async event => {\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_prjt\r\n\t\tif( document.getElementById(infoRow[0] + \"|tx_prjt_name\").value.trim() === \"\" )\r\n\t\t{\r\n\t\t\talert(\"Please provide a new project name\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar obj_upd_user = {\r\n\t\t\t\t\"tx_prjt_name\" : document.getElementById(infoRow[0] + \"|tx_prjt_name\").value.trim() , \r\n\t\t\t\t\"tx_stts\" : document.getElementById(infoRow[0] + \"|tx_stts\").value \r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.setState({ isLoading: true });\r\n\t\t\ttry {\r\n\t\t\t\tawait this.updateProject(infoRow[0], obj_upd_user);\r\n\t\t\t\tthis.props.history.push(\"/projectadministration\");\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\talert(e.message);\r\n\t\t\t}\t\t\r\n\t\t\tdocument.getElementById(\"divMain\").style.display = 'none';\r\n\t\t\tthis.setState({ isLoading: false });\r\n\t\t}\r\n\t}\r\n\r\n\t//Function to show modal window\r\n\thandleShow = async event => {\r\n\t\tthis.setState({ show: true });\r\n\t}\r\n\t\r\n\t//Function to close modal window\r\n\thandleClose = async event => {\r\n\t\tthis.setState({ show: false });\r\n\t}\r\n\t\r\n\t//Function to filter projects by status\r\n\tfilterStatus = async event => {\r\n\t\tvar selectedStatus = document.getElementById(event.target.id).value;\t\r\n\t\tvar arry_tredit = document.getElementsByClassName(\"tredit\");\r\n\t\tvar arry_trs = [];\r\n\t\tvar arry_stts = ['Commencing', 'Active', 'Stand-By', 'Completed', 'Cancelled']\r\n\t\tvar j = 0;\r\n\t\tvar k = 0;\r\n\t\t\t\t\r\n\t\tif( selectedStatus === \"All\" )\r\n\t\t{\r\n\t\t\tfor(j = 0; j < arry_stts.length; j++)\r\n\t\t\t{\r\n\t\t\t\tarry_trs = document.getElementsByClassName(arry_stts[j] + \"_tr_status\");\r\n\t\t\t\tfor(k = 0; k < arry_trs.length; k++){\r\n\t\t\t\t\tarry_trs[k].style.display = 'table-row';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(j = 0; j < arry_stts.length; j++)\r\n\t\t\t{\r\n\t\t\t\tarry_trs = document.getElementsByClassName(arry_stts[j] + \"_tr_status\");\r\n\t\t\t\tfor(k = 0; k < arry_trs.length; k++)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(\"arry_stts de j = \" + arry_stts[j] + \", selectedStatus = \" + selectedStatus + \", arry_trs = \" + arry_trs[k]);\r\n\t\t\t\t\tif(arry_stts[j] === selectedStatus) {\r\n\t\t\t\t\t\tarry_trs[k].style.display = 'table-row';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tarry_trs[k].style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(j = 0; j < arry_tredit.length; j++){\r\n\t\t\tarry_tredit[j].style.display = 'none';\r\n\t\t}\r\n\t}\t\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Function to render table with projects\r\n\tdrawProjectsTable() {\r\n\t\t//alert(this.state.array_projects_by_user.length);\r\n\t\tvar tx_role = getLoggedInUserInfo(this.state.users).tx_role;\r\n\t\tvar k = 1;\r\n\t\tif(tx_role === \"Admin\" || tx_role === \"PM\" || tx_role === \"Developer\")\r\n\t\t{\r\n\t\t\treturn <div id='divMain'> <form>\r\n\t\t\t<PageHeader align=\"left\" id=\"pageHeader\"> <img src=\"./pmicons/030-diagram.png\" class=\"pmsmallicons\" alt=\"\" /> { tx_role === \"Admin\" ? \"Project administration\" : ( tx_role === \"PM\" ? \"Project tracking\" : \"My projects\" ) } </PageHeader>\r\n\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t<div> \r\n\t\t\t\t<Table striped bordered condensed hover> <tr> \r\n\t\t\t\t\t<td align='left' width=\"50%\"> <Button bsStyle=\"success\" onClick={this.handleShow} > New project </Button> </td>\r\n\t\t\t\t\t<td align='right' width=\"50%\"> \r\n\t\t\t\t\t\t<FormGroup controlId=\"ddl_status\" bsSize=\"small\">\r\n\t\t\t\t\t\t\t<ControlLabel>Select project status</ControlLabel>\r\n\t\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" onChange={this.filterStatus} >\r\n\t\t\t\t\t\t\t\t<option value=\"All\">All</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Commencing\">Commencing</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Active\">Active</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Stand-By\">Stand-By</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Completed\">Completed</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Cancelled\">Cancelled</option>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</td> \r\n\t\t\t</tr> </Table> </div>\r\n\t\t\t: \"\" }\r\n\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t<thead class=\"tHeadProjects\"> <tr> <th> # </th> <th> Project name </th> <th> Status </th> { tx_role === \"Admin\" || tx_role === \"PM\" ? <th> Edit </th> : \"\" } </tr> </thead>\r\n\t\t\t\t{ \r\n\t\t\t\t\tthis.state.projects.sort( function(a, b) {if(a.tx_prjt_name < b.tx_prjt_name) { return -1; } if(a.tx_prjt_name > b.tx_prjt_name) { return 1; } return 0; } ).map(\r\n\t\t\t\t\t\t(project, i) =>\r\n\t\t\t\t\t\t\t<Fragment> \r\n\t\t\t\t\t\t\t{ ( tx_role === \"Admin\" && ( ( getQS('project') !== \"\" && project.id_prjt === getQS('project') ) || ( getQS('project') === \"\" || getQS('project') === null ) ) || ( tx_role !== \"Admin\" && this.state.array_projects_by_user.indexOf(project.id_prjt) >= 0 ) ) ? \r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<tr class={project.tx_stts + \"_tr_status trProjects\"} id={'tr|' + project.id_prjt + '|view'}>\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"5%\"> {k} </td> \r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"25%\" id={project.id_prjt + \"|tr_prjt_name\"}> {project.tx_prjt_name} </td> \r\n\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"10%\" id={project.id_prjt + \"|tr_stts\"}> {project.tx_stts} </td> \r\n\t\t\t\t\t\t\t\t\t\t{ tx_role === \"Admin\" || tx_role === \"PM\" ?\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left' width=\"20%\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button id={project.id_prjt + \"|\" + project.tx_prjt_name + \"|\" + project.tx_stts} onClick={this.handleEdit} bsStyle=\"info\"> Edit </Button> \r\n\t\t\t\t\t\t\t\t\t\t\t{ tx_role === \"Admin\" ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button id={project.id_prjt + \"|\" + project.tx_prjt_name + \"|\" + project.tx_stts + \"|delete\"} onClick={this.handleDelete} bsStyle=\"danger\"> Delete </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr id={'tr|' + project.id_prjt + '|edit'} class={project.tx_stts + \"_tr_status tredit trProjects\"} >\r\n\t\t\t\t\t\t\t\t\t\t <td> {k++} </td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left'> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{ tx_role === \"Admin\" ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup controlId={project.id_prjt + \"|tx_prjt_name\"} bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl autoFocus type=\"text\" className='formInput' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t: <div> {project.tx_prjt_name} <input type=\"hidden\" id={project.id_prjt + \"|tx_prjt_name\"} /> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</td> \r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup controlId={project.id_prjt + \"|tx_stts\"} bsSize=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Commencing\">Commencing</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Active\">Active</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Stand-By\">Stand-By</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Completed\">Completed</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Cancelled\">Cancelled</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td align='left'> <Button id={project.id_prjt + \"|cancel\"} onClick={this.handleCancel} bsStyle=\"danger\"> Cancel </Button> <Button id={project.id_prjt + \"|update\"} onClick={this.handleUpdate} bsStyle=\"primary\"> Update </Button> </td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Table>\r\n\t\t\t\r\n\t\t\t<Modal show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title> New project </Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormGroup controlId=\"tx_new_prjt\" bsSize=\"small\">\r\n\t\t\t\t\t\t<ControlLabel> Project name </ControlLabel>\r\n\t\t\t\t\t\t<FormControl autoFocus type=\"text\" value={this.state.tx_new_prjt} onChange={this.handleChange} />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.handleCreate} bsStyle=\"primary\">Create</Button>\r\n\t\t\t\t\t<Button onClick={this.handleClose}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t\t\t\t\r\n\t\t\t</form> </div>;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\t//Method to display web content\r\n\trender() {\r\n\t\treturn (\r\n\t\t  <div className=\"ProjectAdministration\">\r\n\t\t\t{!this.state.isLoading && this.drawProjectsTable()}\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n\t/* END OF RENDER FUNCTIONS */\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport \"./AssignationProjects.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { FormGroup, FormControl, PageHeader, Table, ControlLabel, Button, Modal } from \"react-bootstrap\";\r\nimport { getLoggedInUserInfo, getSpecificUserType } from \"../config\";//NEW\r\n\r\nexport default class AssignationProjects extends Component {\r\n\t/* BEGINNING OF COMPONENT FUNCTIONS */\r\n\t//Constructor function for AssignationProjects, with global variables\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisLoading: true,\r\n\t\t\tusers: [],\r\n\t\t\tprojects: [],\r\n\t\t\tusers_and_projects: [],\r\n\t\t\tprojects_by_user: [],\r\n\t\t\tarray_projects_by_user: [],\r\n\t\t\tpms: [],\r\n\t\t\tdevelopers: [],\r\n\t\t\tflag_ac: \"\",\r\n\t\t\tmodal_parameters: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\t//Function to initialize variables\r\n\tasync componentDidMount() {\r\n\t\tif (!this.props.isAuthenticated) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst users = await this.users();\r\n\t\t\tthis.setState({ users });\r\n\t\t\tconst projects = await this.projects();\r\n\t\t\tthis.setState({ projects });\r\n\t\t\tconst users_and_projects = await this.users_and_projects();\r\n\t\t\tthis.setState({ users_and_projects });\r\n\t\t\tconst projects_by_user = await this.projects_by_user();\r\n\t\t\tthis.setState({ projects_by_user });\r\n\t\t\tfor(var k = 0; k < this.state.projects_by_user.length; k++)\r\n\t\t\t{\r\n\t\t\t\tthis.state.array_projects_by_user.push(this.state.projects_by_user[k].id_prjt);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\talert(e);\r\n\t\t}\r\n\r\n\t\tthis.setState({ isLoading: false });\r\n\t\t\r\n\t\t//Get PM's and Developers\r\n\t\tthis.state.users.map(\r\n\t\t\t(user, i) =>\r\n\t\t\t{\r\n\t\t\t\tif(user.tx_role === \"PM\"){\r\n\t\t\t\t\tthis.state.pms.push(user);\r\n\t\t\t\t}\r\n\t\t\t\telse if(user.tx_role === \"Developer\"){\r\n\t\t\t\t\tthis.state.developers.push(user);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t/* END OF COMPONENT FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF LAMBDA FUNCTIONS */\r\n\t//Invoke lambda function to get users\r\n\tusers() {\r\n\t\treturn API.get(\"pm\", \"/list-users\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get projects\r\n\tprojects() {\r\n\t\treturn API.get(\"pm\", \"/list-projects\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to get users and projects relationships\r\n\tusers_and_projects() {\r\n\t\treturn API.get(\"pm\", \"/list-users-and-projects\");\r\n\t}\r\n\t\r\n\t//Invoke lambda function to projects by specific user\r\n\tprojects_by_user() {\r\n\t\treturn API.get(\"pm\", \"/get-projects-by-user/\" + getLoggedInUserInfo(this.state.users).id_user);\r\n\t}\r\n\t\r\n\t//Invoke lambda function to delete users and projects relationships\r\n\tdeleteUserProject(id_prjt, id_user) \r\n\t{\r\n\t\treturn API.del(\"pm\", \"/delete-users-and-projects/\" + id_prjt + \"/\" + id_user);\r\n\t}\r\n\t\r\n\t//Invoke lambda function to create users and projects relationships\r\n\tcreateUserProject(obj_user_prjt) \r\n\t{\r\n\t\treturn API.post(\"pm\", \"/create-users-and-projects/\", { body: obj_user_prjt });\r\n\t}\r\n\t/* END OF LAMBDA FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF HANDLER FUNCTIONS */\r\n\t//Function to redirect the add and change function to the modal window; delete function\r\n\thandleChanges = async event => {\t\t\r\n\t\tvar infoRow = event.target.id.split(\"|\");// 0 = id_prjt ; 1 = action (add, change, delete) ; 2 = user_type ; 3 = id_user (on change (to delete) or on delete)\r\n\t\t\r\n\t\t//Decision \r\n\t\tif(infoRow[1] === \"add\")\r\n\t\t{\r\n\t\t\tthis.state.modal_parameters = infoRow;\r\n\t\t\tthis.state.flag_ac = \"add\";\r\n\t\t\tthis.handleShow();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(infoRow[1] === \"change\")\r\n\t\t\t{\r\n\t\t\t\tthis.state.modal_parameters = infoRow;\r\n\t\t\t\tthis.state.flag_ac = \"change\";\r\n\t\t\t\tthis.handleShow();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(infoRow[1] === \"delete\")\r\n\t\t\t\t{\r\n\t\t\t\t\tconst confirmed = window.confirm(\"Are you sure you want to delete this contributor from the project?\");\r\n\t\t\t\t\tif (!confirmed) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.deleteUserProject(infoRow[0], infoRow[3]);\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t} \r\n\t\t\t\t\tcatch (e) {\r\n\t\t\t\t\t\talert(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Function to add or change an assignment\r\n\thandleAddChange = async event => {\r\n\t\tvar infoRow = this.state.modal_parameters;// 0 = id_prjt ; 1 = action (add, change, delete) ; 2 = user_type ; 3 = id_user (on change (to delete) or on delete)\r\n\t\tvar obj_user_prjt = { \"id_prjt\" : infoRow[0] , \"id_user\" : document.getElementById(\"ddl_user_name\").value };//\r\n\r\n\t\tif( infoRow[2] === \"Developer\" )\r\n\t\t{//Only create\r\n\t\t\tawait this.createUserProject(obj_user_prjt);\r\n\t\t\twindow.location.reload();\r\n\t\t}\r\n\t\telse\r\n\t\t{//PM's\r\n\t\t\tif(infoRow[1] === \"add\")\r\n\t\t\t{//Only create\r\n\t\t\t\tthis.setState({ show: false });\r\n\t\t\t\tawait this.createUserProject(obj_user_prjt);\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{//Change\r\n\t\t\t\t//Delete and create\r\n\t\t\t\tthis.setState({ show: false });\r\n\t\t\t\tawait this.deleteUserProject(infoRow[0], infoRow[3]);\r\n\t\t\t\tawait this.createUserProject(obj_user_prjt);\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t}\r\n\t\t//window.location.reload();\r\n\t}\r\n\t\r\n\t//Function to show modal window\r\n\thandleShow = async event => {\r\n\t\tthis.setState({ show: true });\r\n\t}\r\n\t\r\n\t//Function to close modal window\r\n\thandleClose = async event => {\r\n\t\tthis.setState({ show: false });\r\n\t}\r\n\t/* END OF HANDLER FUNCTIONS */\r\n\t\r\n\t/* BEGINNING OF RENDER FUNCTIONS */\r\n\t//Function to show add, change or remove items for each project\r\n\tgetSpecificUserByProject(id_prjt, user_type, tx_role_excn) {\r\n\t\t//Get all users by project\r\n\t\tvar arrayUsers = [];\r\n\t\tvar flagNotFound = 0;\r\n\t\tvar i = 0;\r\n\t\tfor(i = 0; i < this.state.users_and_projects.length; i++)\r\n\t\t{\r\n\t\t\tif( this.state.users_and_projects[i].id_prjt === id_prjt )\r\n\t\t\t{\r\n\t\t\t\tarrayUsers.push(this.state.users_and_projects[i].id_user);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Find role per user Found\t\r\n\t\tif(arrayUsers.length === 0)\r\n\t\t{\r\n\t\t\tflagNotFound = 1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//return <p> Puede haber PM </p>;\r\n\t\t\tvar userFound = \"\";\r\n\t\t\tvar arrayPMorDevelopers = [];\r\n\t\t\tfor(i = 0; i < arrayUsers.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar roleAndIndex = getSpecificUserType(this.state.users, arrayUsers[i]);\r\n\t\t\t\tif( ( user_type === \"PM\" && roleAndIndex.tx_role === \"PM\" ) || ( user_type === \"Developer\" && roleAndIndex.tx_role === \"Developer\" ) )\r\n\t\t\t\t{\r\n\t\t\t\t\t//alert( \"\\n id_prjt = \" + id_prjt + \"\\n arrayUsers de i = \" + arrayUsers[i] + \"\\n role de i = \" + this.state.users[i].tx_role + \"\\n role de nu_indx = \" + this.state.users[roleAndIndex.nu_indx].tx_role + \"\\n getSpecificUserType de i = \" + getSpecificUserType(this.state.users, arrayUsers[i]).tx_role + \"\\n i de i = \" + i + \"\\n roleAndIndex = \" + roleAndIndex.nu_indx );\r\n\t\t\t\t\tarrayPMorDevelopers.push( this.state.users[roleAndIndex.nu_indx] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( arrayPMorDevelopers.length === 0 )\r\n\t\t\t{\r\n\t\t\t\tflagNotFound = 1;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(user_type === \"PM\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif(tx_role_excn === \"Admin\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn <div> { arrayPMorDevelopers[0].tx_user_name } <br/> <Button id={id_prjt + \"|change|\" + user_type + \"|\" + arrayPMorDevelopers[0].id_user} bsStyle=\"info\" bsSize=\"xsmall\" onClick={this.handleChanges} > Change {user_type} </Button> <Button id={id_prjt + \"|delete|\" + user_type + \"|\" + arrayPMorDevelopers[0].id_user} bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.handleChanges} > Remove </Button> </div>;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn <div> { arrayPMorDevelopers[0].tx_user_name } </div>;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\treturn <div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tarrayPMorDevelopers.map( (user, i) =>\r\n\t\t\t\t\t\t\t<div id={\"div|\" + id_prjt + \"|\" + arrayPMorDevelopers[i].id_user}> * { arrayPMorDevelopers[i].tx_user_name } <Button id={id_prjt + \"|delete|\" + user_type + \"|\" + arrayPMorDevelopers[i].id_user} bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.handleChanges} > Remove </Button> </div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<br/> <Button id={id_prjt + \"|add|\" + user_type} bsStyle=\"primary\" bsSize=\"xsmall\" onClick={this.handleChanges} > Add {user_type} </Button>\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(flagNotFound === 1)\r\n\t\t{//id_prjt, user_type\r\n\t\t\treturn <Button id={id_prjt + \"|add|\" + user_type} bsStyle=\"primary\" bsSize=\"xsmall\" onClick={this.handleChanges}> Add {user_type} </Button>;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Function to fill dropdown with users to add\r\n\tfillDropDown = async event => {\r\n\t\tvar arrayFill = [];\r\n\t\tvar infoRow = this.state.modal_parameters;// 0 = id_prjt ; 1 = action (add, change, delete) ; 2 = user_type ; 3 = id_user (on change (to delete) or on delete)\r\n\t\t\r\n\t\tif(infoRow[2] === \"Developer\")\r\n\t\t{//Developer\r\n\t\t\tarrayFill = this.state.developers;\r\n\t\t}\r\n\t\telse\r\n\t\t{//PM's\r\n\t\t\tarrayFill = this.state.pms;\r\n\t\t}\r\n\t\t\r\n\t\tfor(var j = 0; j < arrayFill.length; j++)\r\n\t\t{\r\n\t\t\tvar userOption = document.createElement(\"option\");\r\n\t\t\tuserOption.text = arrayFill[j].tx_user_name;\r\n\t\t\tuserOption.value = arrayFill[j].id_user;\r\n\t\t\tdocument.getElementById(\"ddl_user_name\").add(userOption);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Draw table\r\n\tdrawAssignationProjects() {\r\n\t\tvar tx_role = getLoggedInUserInfo(this.state.users).tx_role;\r\n\t\tvar k = 1;\r\n\t\tif(tx_role === \"Admin\" || tx_role === \"PM\")\r\n\t\t{\r\n\t\t\treturn <div id='divMain'> <form>\r\n\t\t\t<PageHeader align=\"left\" id=\"pageHeader\"> <img src=\"./pmicons/006-files.png\" class=\"pmsmallicons\" alt=\"\" /> Project Staffing </PageHeader>\r\n\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t<thead class=\"tHeadStaffing\"> <tr> <th> # </th> <th> Project name </th> <th> Project Manager </th> <th> Developers </th> </tr> </thead>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.projects.sort( function(a, b) {if(a.tx_prjt_name < b.tx_prjt_name) { return -1; } if(a.tx_prjt_name > b.tx_prjt_name) { return 1; } return 0; } ).map(\r\n\t\t\t\t\t\t(project, i) =>\r\n\t\t\t\t\t\t\t<Fragment> \r\n\t\t\t\t\t\t\t{ ( tx_role === \"Admin\" || this.state.array_projects_by_user.indexOf(project.id_prjt) >= 0 ) ? \r\n\t\t\t\t\t\t\t\t<Fragment bordered>\r\n\t\t\t\t\t\t\t\t\t<tr class=\"trStaffing\">\r\n\t\t\t\t\t\t\t\t\t\t<td> {k++} </td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left' class='tdborder' valign='top'> { project.tx_prjt_name } </td> \r\n\t\t\t\t\t\t\t\t\t\t<td align='left' class='tdborder' valign='top'> { this.getSpecificUserByProject(project.id_prjt, \"PM\", tx_role) } </td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left' class='tdborder' valign='top'> { this.getSpecificUserByProject(project.id_prjt, \"Developer\", tx_role) } </td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Table>\r\n\t\t\t\r\n\t\t\t<Modal show={this.state.show} onHide={this.handleClose} onShow={this.fillDropDown}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title> {this.state.flag_ac === \"change\" ? \"Change PM\" : \"New contributor\"} </Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormGroup controlId=\"ddl_user_name\" bsSize=\"small\">\r\n\t\t\t\t\t\t<ControlLabel> {this.state.flag_ac === \"change\" ? \"Select PM\" : \"Select contributor\"} </ControlLabel>\r\n\t\t\t\t\t\t<FormControl componentClass=\"select\" placeholder=\"select\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button bsStyle=\"primary\" onClick={this.handleAddChange}> {this.state.flag_ac === \"change\" ? \"Change\" : \"Add\"} </Button>\r\n\t\t\t\t\t<Button onClick={this.handleClose}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t\t\r\n\t\t\t</form> </div>;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.props.history.push(\"/\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Method to display web content\r\n\trender() {\r\n\t\treturn (\r\n\t\t  <div className=\"AssignationProjects\">\r\n\t\t\t{!this.state.isLoading && this.drawAssignationProjects()}\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n\t/* END OF RENDER FUNCTIONS */\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default ({ component: C, props: cProps, ...rest }) =>\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      cProps.isAuthenticated\r\n        ? <C {...props} {...cProps} />\r\n        : <Redirect\r\n            to={`/login?redirect=${props.location.pathname}${props.location\r\n              .search}`}\r\n          />}\r\n  />;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction querystring(name, url = window.location.href) {\r\n  name = name.replace(/[[]]/g, \"\\\\$&\");\r\n\r\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\r\n  const results = regex.exec(url);\r\n\r\n  if (!results) {\r\n    return null;\r\n  }\r\n  if (!results[2]) {\r\n    return \"\";\r\n  }\r\n\r\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\r\nexport default ({ component: C, props: cProps, ...rest }) => {\r\n  const redirect = querystring(\"redirect\");\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !cProps.isAuthenticated\r\n          ? <C {...props} {...cProps} />\r\n          : <Redirect\r\n              to={redirect === \"\" || redirect === null ? \"/\" : redirect}\r\n            />}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./containers/Home\";\r\nimport Login from \"./containers/Login\";\r\nimport NotFound from \"./containers/NotFound\";\r\nimport AppliedRoute from \"./components/AppliedRoute\";\r\nimport Signup from \"./containers/Signup\";\r\nimport UserAdministration from \"./containers/UserAdministration\";\r\nimport ProjectAdministration from \"./containers/ProjectAdministration\";\r\nimport AssignationProjects from \"./containers/AssignationProjects\";\r\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\r\nimport UnauthenticatedRoute from \"./components/UnauthenticatedRoute\";\r\n\r\n//Configuration of routes in the application\r\nexport default ({ childProps }) =>\r\n  <Switch>\r\n    <AppliedRoute path=\"/\" exact component={Home} props={childProps} />\r\n    <UnauthenticatedRoute path=\"/login\" exact component={Login} props={childProps} />\r\n    <AuthenticatedRoute path=\"/signup\" exact component={Signup} props={childProps} />\r\n    <AuthenticatedRoute path=\"/useradministration\" exact component={UserAdministration} props={childProps} />\r\n    <AuthenticatedRoute path=\"/projectadministration\" exact component={ProjectAdministration} props={childProps} />\r\n    <AuthenticatedRoute path=\"/assignationprojects\" exact component={AssignationProjects} props={childProps} />\r\n    <Route component={NotFound} />\r\n  </Switch>;\r\n","import React, { Component, Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport \"./App.css\";\nimport Routes from \"./Routes\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Auth } from \"aws-amplify\";\nimport { setCookie } from \"./config\";//NEW\n\nclass App extends Component {\n\t//Constructor of the container file\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t  isAuthenticated: false,\n\t\t  isAuthenticating: true\n\t\t};\n\t}\n\n\t//Flag to check if the user is authenticated\n\tuserHasAuthenticated = authenticated => {\n\t  this.setState({ isAuthenticated: authenticated });\n\t}\n\n\t//Constructor of the container file\n\tasync componentDidMount() {\n\t  try {\n\t\tawait Auth.currentSession();\n\t\tthis.userHasAuthenticated(true);\n\t  }\n\t  catch(e) {\n\t\tif (e !== 'No current user') {\n\t\t  alert(e);\n\t\t}\n\t  }\n\n\t  this.setState({ isAuthenticating: false });\n\t}\n\t\n\t//Logout function\n\thandleLogout = async event => {\n\t\tawait Auth.signOut();\n\t\tthis.userHasAuthenticated(false);\n\t\tsetCookie(\"tx_user_mail\", \"\");\n\t\tthis.props.history.push(\"/\");\n\t}\n\n\t//Render page\n\trender() {\n\t  const childProps = {\n\t\tisAuthenticated: this.state.isAuthenticated,\n\t\tuserHasAuthenticated: this.userHasAuthenticated\n\t  };\n\n\t  return (\n\t\t!this.state.isAuthenticating &&\n\t\t<div class=\"AppContainer\">\n\t\t  <Navbar fluid collapseOnSelect className=\"navheader\">\n\t\t\t<Navbar.Header>\n\t\t\t  <Navbar.Brand>\n\t\t\t\t<Link to=\"/\"> Home </Link>\n\t\t\t  </Navbar.Brand>\n\t\t\t  <Navbar.Toggle />\n\t\t\t</Navbar.Header>\n\t\t\t<Navbar.Collapse>\n\t\t\t  <Nav pullRight>\n\t\t\t\t{this.state.isAuthenticated\n\t\t\t\t  ? <NavItem onClick={this.handleLogout}>Logout</NavItem>\n\t\t\t\t  : <Fragment>\n\t\t\t\t\t  <LinkContainer to=\"/login\">\n\t\t\t\t\t\t<NavItem>Login</NavItem>\n\t\t\t\t\t  </LinkContainer>\n\t\t\t\t\t</Fragment>\n\t\t\t\t}\n\t\t\t  </Nav>\n\t\t\t</Navbar.Collapse>\n\t\t  </Navbar>\n\t\t  <Routes childProps={childProps} />\n\t\t</div>\n\t  );\n\t}\n\n}\n\nexport default withRouter(App);\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Amplify from \"aws-amplify\";\nimport config from \"./config\";\n\n//Configuration of amplify variables\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"pm\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\nserviceWorker.unregister();\n"],"sourceRoot":""}